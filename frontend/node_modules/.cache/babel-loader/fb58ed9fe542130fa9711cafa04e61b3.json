{"ast":null,"code":"import axios from 'axios';\nimport { USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT, USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS, USER_DETAILS_RESET, USER_LIST_FAIL, USER_LIST_SUCCESS, USER_LIST_REQUEST, USER_LIST_RESET, USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DELETE_FAIL, USER_UPDATE_FAIL, USER_UPDATE_SUCCESS, USER_UPDATE_REQUEST } from '../constants/userConstants'; // import { ORDER_LIST_MY_RESET } from '../constants/orderConstants'\n\nexport const info = nome => async dispatch => {\n  try {\n    dispatch({\n      type: USER_LOGIN_REQUEST\n    });\n    const config = {\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    };\n    const {\n      data\n    } = await axios.post('/api/users/login', {\n      nome\n    }, config);\n    dispatch({\n      type: USER_LOGIN_SUCCESS,\n      payload: data\n    });\n    localStorage.setItem('userInfo', JSON.stringify(data));\n  } catch (error) {\n    dispatch({\n      type: USER_LOGIN_FAIL,\n      payload: error.response && error.response.data.message ? error.response.data.message : error.message\n    });\n  }\n}; //createPeassoa\n// export const register = (name, email, password) => async (dispatch) => {\n//   try {\n//     dispatch({\n//       type: USER_REGISTER_REQUEST,\n//     })\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//       },\n//     }\n//     const { data } = await axios.post(\n//       '/api/users',\n//       { name, email, password },\n//       config\n//     )\n//     dispatch({\n//       type: USER_REGISTER_SUCCESS,\n//       payload: data,\n//     })\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     dispatch({\n//       type: USER_REGISTER_FAIL,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     })\n//   }\n// }\n//readPeassoa\n// export const getUserDetails = (id) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_DETAILS_REQUEST,\n//     })\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n//     const { data } = await axios.get(`/api/users/${id}`, config)\n//     dispatch({\n//       type: USER_DETAILS_SUCCESS,\n//       payload: data,\n//     })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_DETAILS_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n//updatePessoa\n// export const updateUserProfile = (user) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_REQUEST,\n//     })\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n//     const { data } = await axios.put(`/api/users/profile`, user, config)\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_SUCCESS,\n//       payload: data,\n//     })\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n//deleteUser\n// export const deleteUser = (id) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_DELETE_REQUEST,\n//     })\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n//     await axios.delete(`/api/users/${id}`, config)\n//     dispatch({ type: USER_DELETE_SUCCESS })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_DELETE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n// export const updateUser = (user) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_UPDATE_REQUEST,\n//     })\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n//     const { data } = await axios.put(`/api/users/${user._id}`, user, config)\n//     dispatch({ type: USER_UPDATE_SUCCESS })\n//     dispatch({ type: USER_DETAILS_SUCCESS, payload: data })\n//     dispatch({ type: USER_DETAILS_RESET })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_UPDATE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n// export const login = (email, password) => async (dispatch) => {\n//   try {\n//     dispatch({\n//       type: USER_LOGIN_REQUEST,\n//     })\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//       },\n//     }\n//     const { data } = await axios.post(\n//       '/api/users/login',\n//       { email, password },\n//       config\n//     )\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     dispatch({\n//       type: USER_LOGIN_FAIL,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     })\n//   }\n// }\n// export const logout = () => (dispatch) => {\n//   localStorage.removeItem('userInfo')\n//   localStorage.removeItem('cartItems')\n//   localStorage.removeItem('shippingAddress')\n//   localStorage.removeItem('paymentMethod')\n//   dispatch({ type: USER_LOGOUT })\n//   dispatch({ type: USER_DETAILS_RESET })\n//   dispatch({ type: ORDER_LIST_MY_RESET })\n//   dispatch({ type: USER_LIST_RESET })\n//   document.location.href = '/login'\n// }\n// export const listUsers = () => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_LIST_REQUEST,\n//     })\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n//     const { data } = await axios.get(`/api/users`, config)\n//     dispatch({\n//       type: USER_LIST_SUCCESS,\n//       payload: data,\n//     })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_LIST_FAIL,\n//       payload: message,\n//     })\n//   }\n// }","map":{"version":3,"sources":["/home/linux/√Årea de Trabalho/CRUD/frontend/src/actions/userActions.js"],"names":["axios","USER_DETAILS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_LOGIN_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGOUT","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","USER_DETAILS_RESET","USER_LIST_FAIL","USER_LIST_SUCCESS","USER_LIST_REQUEST","USER_LIST_RESET","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DELETE_FAIL","USER_UPDATE_FAIL","USER_UPDATE_SUCCESS","USER_UPDATE_REQUEST","info","nome","dispatch","type","config","headers","data","post","payload","localStorage","setItem","JSON","stringify","error","response","message"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SACEC,iBADF,EAEEC,oBAFF,EAGEC,oBAHF,EAIEC,eAJF,EAKEC,kBALF,EAMEC,kBANF,EAOEC,WAPF,EAQEC,kBARF,EASEC,qBATF,EAUEC,qBAVF,EAWEC,wBAXF,EAYEC,2BAZF,EAaEC,2BAbF,EAcEC,kBAdF,EAeEC,cAfF,EAgBEC,iBAhBF,EAiBEC,iBAjBF,EAkBEC,eAlBF,EAmBEC,mBAnBF,EAoBEC,mBApBF,EAqBEC,gBArBF,EAsBEC,gBAtBF,EAuBEC,mBAvBF,EAwBEC,mBAxBF,QAyBO,4BAzBP,C,CA0BA;;AAGA,OAAO,MAAMC,IAAI,GAAIC,IAAD,IAAU,MAAOC,QAAP,IAAoB;AAChD,MAAI;AACFA,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEvB;AADC,KAAD,CAAR;AAIA,UAAMwB,MAAM,GAAG;AACbC,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AADI,KAAf;AAMA,UAAM;AAAEC,MAAAA;AAAF,QAAW,MAAM/B,KAAK,CAACgC,IAAN,CACrB,kBADqB,EAErB;AAAEN,MAAAA;AAAF,KAFqB,EAGrBG,MAHqB,CAAvB;AAMAF,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAEtB,kBADC;AAEP2B,MAAAA,OAAO,EAAEF;AAFF,KAAD,CAAR;AAKAG,IAAAA,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCC,IAAI,CAACC,SAAL,CAAeN,IAAf,CAAjC;AACD,GAvBD,CAuBE,OAAOO,KAAP,EAAc;AACdX,IAAAA,QAAQ,CAAC;AACPC,MAAAA,IAAI,EAAExB,eADC;AAEP6B,MAAAA,OAAO,EACLK,KAAK,CAACC,QAAN,IAAkBD,KAAK,CAACC,QAAN,CAAeR,IAAf,CAAoBS,OAAtC,GACIF,KAAK,CAACC,QAAN,CAAeR,IAAf,CAAoBS,OADxB,GAEIF,KAAK,CAACE;AALL,KAAD,CAAR;AAOD;AACF,CAjCM,C,CAmCP;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import axios from 'axios'\nimport {\n  USER_DETAILS_FAIL,\n  USER_DETAILS_REQUEST,\n  USER_DETAILS_SUCCESS,\n  USER_LOGIN_FAIL,\n  USER_LOGIN_REQUEST,\n  USER_LOGIN_SUCCESS,\n  USER_LOGOUT,\n  USER_REGISTER_FAIL,\n  USER_REGISTER_REQUEST,\n  USER_REGISTER_SUCCESS,\n  USER_UPDATE_PROFILE_FAIL,\n  USER_UPDATE_PROFILE_REQUEST,\n  USER_UPDATE_PROFILE_SUCCESS,\n  USER_DETAILS_RESET,\n  USER_LIST_FAIL,\n  USER_LIST_SUCCESS,\n  USER_LIST_REQUEST,\n  USER_LIST_RESET,\n  USER_DELETE_REQUEST,\n  USER_DELETE_SUCCESS,\n  USER_DELETE_FAIL,\n  USER_UPDATE_FAIL,\n  USER_UPDATE_SUCCESS,\n  USER_UPDATE_REQUEST,\n} from '../constants/userConstants'\n// import { ORDER_LIST_MY_RESET } from '../constants/orderConstants'\n\n\nexport const info = (nome) => async (dispatch) => {\n  try {\n    dispatch({\n      type: USER_LOGIN_REQUEST,\n    })\n\n    const config = {\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    }\n\n    const { data } = await axios.post(\n      '/api/users/login',\n      { nome },\n      config\n    )\n\n    dispatch({\n      type: USER_LOGIN_SUCCESS,\n      payload: data,\n    })\n\n    localStorage.setItem('userInfo', JSON.stringify(data))\n  } catch (error) {\n    dispatch({\n      type: USER_LOGIN_FAIL,\n      payload:\n        error.response && error.response.data.message\n          ? error.response.data.message\n          : error.message,\n    })\n  }\n}\n\n//createPeassoa\n// export const register = (name, email, password) => async (dispatch) => {\n//   try {\n//     dispatch({\n//       type: USER_REGISTER_REQUEST,\n//     })\n\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//       },\n//     }\n\n//     const { data } = await axios.post(\n//       '/api/users',\n//       { name, email, password },\n//       config\n//     )\n\n//     dispatch({\n//       type: USER_REGISTER_SUCCESS,\n//       payload: data,\n//     })\n\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     dispatch({\n//       type: USER_REGISTER_FAIL,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     })\n//   }\n// }\n//readPeassoa\n// export const getUserDetails = (id) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_DETAILS_REQUEST,\n//     })\n\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n\n//     const { data } = await axios.get(`/api/users/${id}`, config)\n\n//     dispatch({\n//       type: USER_DETAILS_SUCCESS,\n//       payload: data,\n//     })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_DETAILS_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n//updatePessoa\n// export const updateUserProfile = (user) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_REQUEST,\n//     })\n\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n\n//     const { data } = await axios.put(`/api/users/profile`, user, config)\n\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_SUCCESS,\n//       payload: data,\n//     })\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_UPDATE_PROFILE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n//deleteUser\n// export const deleteUser = (id) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_DELETE_REQUEST,\n//     })\n\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n\n//     await axios.delete(`/api/users/${id}`, config)\n\n//     dispatch({ type: USER_DELETE_SUCCESS })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_DELETE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n\n// export const updateUser = (user) => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_UPDATE_REQUEST,\n//     })\n\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n\n//     const { data } = await axios.put(`/api/users/${user._id}`, user, config)\n\n//     dispatch({ type: USER_UPDATE_SUCCESS })\n\n//     dispatch({ type: USER_DETAILS_SUCCESS, payload: data })\n\n//     dispatch({ type: USER_DETAILS_RESET })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_UPDATE_FAIL,\n//       payload: message,\n//     })\n//   }\n// }\n\n\n// export const login = (email, password) => async (dispatch) => {\n//   try {\n//     dispatch({\n//       type: USER_LOGIN_REQUEST,\n//     })\n\n//     const config = {\n//       headers: {\n//         'Content-Type': 'application/json',\n//       },\n//     }\n\n//     const { data } = await axios.post(\n//       '/api/users/login',\n//       { email, password },\n//       config\n//     )\n\n//     dispatch({\n//       type: USER_LOGIN_SUCCESS,\n//       payload: data,\n//     })\n\n//     localStorage.setItem('userInfo', JSON.stringify(data))\n//   } catch (error) {\n//     dispatch({\n//       type: USER_LOGIN_FAIL,\n//       payload:\n//         error.response && error.response.data.message\n//           ? error.response.data.message\n//           : error.message,\n//     })\n//   }\n// }\n\n// export const logout = () => (dispatch) => {\n//   localStorage.removeItem('userInfo')\n//   localStorage.removeItem('cartItems')\n//   localStorage.removeItem('shippingAddress')\n//   localStorage.removeItem('paymentMethod')\n//   dispatch({ type: USER_LOGOUT })\n//   dispatch({ type: USER_DETAILS_RESET })\n//   dispatch({ type: ORDER_LIST_MY_RESET })\n//   dispatch({ type: USER_LIST_RESET })\n//   document.location.href = '/login'\n// }\n\n// export const listUsers = () => async (dispatch, getState) => {\n//   try {\n//     dispatch({\n//       type: USER_LIST_REQUEST,\n//     })\n\n//     const {\n//       userLogin: { userInfo },\n//     } = getState()\n\n//     const config = {\n//       headers: {\n//         Authorization: `Bearer ${userInfo.token}`,\n//       },\n//     }\n\n//     const { data } = await axios.get(`/api/users`, config)\n\n//     dispatch({\n//       type: USER_LIST_SUCCESS,\n//       payload: data,\n//     })\n//   } catch (error) {\n//     const message =\n//       error.response && error.response.data.message\n//         ? error.response.data.message\n//         : error.message\n//     if (message === 'Not authorized, token failed') {\n//       dispatch(logout())\n//     }\n//     dispatch({\n//       type: USER_LIST_FAIL,\n//       payload: message,\n//     })\n//   }\n// }"]},"metadata":{},"sourceType":"module"}